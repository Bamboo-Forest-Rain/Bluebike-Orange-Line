---
title: "Exploratory Analysis - Changes in Trend"
date: 2022-12-19
published: true
tags: [dataviz, hvplot, holoviews]
excerpt: "How did orange line shutdown contributed changed the travel pattern during the time?"
hv-loader:
  hv-chart-1: ["charts/ridership_line.html", "500"] # second argument is the height
  hv-chart-2: ["charts/stacked_bar_usertype.html", "400"]
  hv-chart-3: ["charts/averagestationridership.html", "650"]
  hv-chart-4: ["charts/map.html", "800"]

toc: true
toc_sticky: false
read_time: true
---

## 1. Looking at the Trend prior and during Orange Line Shutdown

We will compare monthly data for the month of July, August, September between 2018 and 2022. We recognize that ridership is affected by the number of newly constructed stations, and we will further divide monthly ridership by the number of stations constructed that year. For example, after we aggregated the overall ridership for the month of July in 2018, we will devide the number by the number of stations in 2018 to get ridership per station of that month. 

Ridership in this case is defined by the pickup rate at the start station.

### 1.1 Ridership

<div id="hv-chart-1"></div>

The graph shows the average station ridership in the month of July, August, and September. Colored lines reporesent different years. We see that in 2020, the ridership is greatly hit by COVID-19. In 2021, the ridership started to recover, but still not yet returned to pre-COVD level. However, we see a great increase in the ridership in summer 2022. The increase rate, too, is much faster than other years, especially between the month of August and September. This is most likely due to orange line shutdown, when most orange line commuters began to replace their subway trips with bikeshare trips. Note that South west corridor has a really nice separated bike lane, going parallel to the orange line, this could be a factor in ridership increase as well. 

At the same time, some low-income residents no longer have financial barrier to use the bikes (requires a credit card and a hold of $25), they perhaps also contributed to this increase.

### 1.2 Membership

Bluebike has two type of users: 1. Subscriber - who has signed up for monthly or annual rider pass 2. Costomer - who just used the bike for once. We want to see how the membership has changed during the years as well. During orange line shutdown, one is required to sign-up and become a subscriber to be a free bikeshare user. We will present the data as user type in percentage of that year, as well as avaerge station number of subscriber and customer per month per year.

<div id="hv-chart-2"></div>

Red bars represent percent subscribers and Blue bars represent percent customers. Subscribers are always more than customers, meaning that most likely Boston and nearby city residents are using the service more than visitors who are more likely to use the service. Customers are usually around 20% - 30% and subscribers 70% - 80% of the users. In 2021 and 2022, the percentage of subscribers slightly decreased, perhaps residents at the time started to work remontely even during the summer days. 

The trend in 2022 is interesting, as tourism started to resume, we would suspect that the percentage of customers increases. Instead, the percentage of subscribers kept increasing. For the first time in five years, the percent of customers dropped to 10%. 

As more people started to be aware they could sign-up for free membership in August to September 2022, perhaps even some of the tourists begin to register for the free service, thus we see a bug drop in number customers. 

### 1.3 Overall membership and ridership trend

<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>averagestationridership</title>
              <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" type="text/css" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/alerts.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/card.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/dataframe.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/debugger.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/json.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/loading.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/markdown.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/widgets.css" type="text/css" />
            <style>
                
            .bk.pn-loading.arcs:before {
              background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+");
              background-size: auto calc(min(50%, 400px));
            }
            
            </style>

          <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script><script type="text/javascript" src="https://unpkg.com/@holoviz/panel@0.13.1/dist/panel.min.js"></script><script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
  </head>
  <body>
          
              <div class="bk-root" id="e9f1832a-d2c7-438e-8c52-eea7a5b886f1" data-root-id="17850"></div>
              <div class="bk-root" id="6b8b760e-5b10-45d5-83b6-5f776d90c660" data-root-id="18111"></div>
      
        <script type="application/json" id="18390">
          {"e1531bfd-644b-47ad-8eec-d0e148523aa7":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"GridStack1","overrides":[],"properties":[{"default":"warn","kind":null,"name":"mode"},{"default":null,"kind":null,"name":"ncols"},{"default":null,"kind":null,"name":"nrows"},{"default":true,"kind":null,"name":"allow_resize"},{"default":true,"kind":null,"name":"allow_drag"},{"default":[],"kind":null,"name":"state"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":"","kind":null,"name":"terminal_output"},{"default":"","kind":null,"name":"debug_name"},{"default":0,"kind":null,"name":"clears"}]},{"extends":null,"module":null,"name":"NotificationAreaBase1","overrides":[],"properties":[{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"}]},{"extends":null,"module":null,"name":"NotificationArea1","overrides":[],"properties":[{"default":[],"kind":null,"name":"notifications"},{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"},{"default":[{"background":"#ffc107","icon":{"className":"fas fa-exclamation-triangle","color":"white","tagName":"i"},"type":"warning"},{"background":"#007bff","icon":{"className":"fas fa-info-circle","color":"white","tagName":"i"},"type":"info"}],"kind":null,"name":"types"}]},{"extends":null,"module":null,"name":"Notification","overrides":[],"properties":[{"default":null,"kind":null,"name":"background"},{"default":3000,"kind":null,"name":"duration"},{"default":null,"kind":null,"name":"icon"},{"default":"","kind":null,"name":"message"},{"default":null,"kind":null,"name":"notification_type"},{"default":false,"kind":null,"name":"_destroyed"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]}],"roots":{"references":[{"attributes":{},"id":"17897","type":"CategoricalTickFormatter"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25719","sizing_mode":"stretch_width"},"id":"18077","type":"Spacer"},{"attributes":{"callback":null,"renderers":[{"id":"17993"},{"id":"18002"}],"tags":["hv_created"],"tooltips":[["usertype","@{usertype}"],["date","@{date}"],["average station membership","@{average_station_membership}"]]},"id":"17946","type":"HoverTool"},{"attributes":{},"id":"17898","type":"AllLabels"},{"attributes":{"children":[{"id":"18033"},{"id":"18031"}]},"id":"18034","type":"Column"},{"attributes":{"toolbar":{"id":"18032"},"toolbar_location":"above"},"id":"18033","type":"ToolbarBox"},{"attributes":{"end":1278.2181382819515,"reset_end":1278.2181382819515,"reset_start":93.55852085657533,"start":93.55852085657533,"tags":[[["average station membership","average station membership",null]]]},"id":"17860","type":"Range1d"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25718","sizing_mode":"stretch_width"},"id":"17854","type":"Spacer"},{"attributes":{},"id":"17875","type":"CategoricalTicker"},{"attributes":{"factors":["7","8","9"],"tags":[[["month","month",null]]]},"id":"17859","type":"FactorRange"},{"attributes":{"axis":{"id":"17959"},"coordinates":null,"grid_line_color":null,"group":null,"ticker":null},"id":"17961","type":"Grid"},{"attributes":{},"id":"17997","type":"Selection"},{"attributes":{"end":4,"js_property_callbacks":{"change:value":[{"id":"18110"},{"id":"18112"}]},"margin":[0,20,20,20],"min_width":250,"show_value":false,"start":0,"tooltips":false,"value":0,"width":250},"id":"18083","type":"Slider"},{"attributes":{},"id":"17967","type":"PanTool"},{"attributes":{},"id":"17900","type":"BasicTickFormatter"},{"attributes":{"axis_label":"Date","coordinates":null,"formatter":{"id":"17982"},"group":null,"major_label_orientation":0.7853981633974483,"major_label_policy":{"id":"17983"},"ticker":{"id":"17960"}},"id":"17959","type":"CategoricalAxis"},{"attributes":{"children":[{"id":"17854"},{"id":"18036"},{"id":"18077"}],"margin":[0,0,0,0],"name":"Row25720"},"id":"17853","type":"Row"},{"attributes":{},"id":"17901","type":"AllLabels"},{"attributes":{"coordinates":null,"group":null,"text":"Overall Trend: Ridership by Membership by Month and Year","text_color":"black","text_font_size":"12pt"},"id":"17951","type":"Title"},{"attributes":{},"id":"17960","type":"CategoricalTicker"},{"attributes":{},"id":"17957","type":"LinearScale"},{"attributes":{"axis_label":"Average Station Membership","coordinates":null,"formatter":{"id":"17985"},"group":null,"major_label_policy":{"id":"17986"},"ticker":{"id":"17963"}},"id":"17962","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"17996"},"glyph":{"id":"17999"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"18001"},"nonselection_glyph":{"id":"18000"},"selection_glyph":{"id":"18004"},"view":{"id":"18003"}},"id":"18002","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"17962"},"coordinates":null,"dimension":1,"grid_line_color":null,"group":null,"ticker":null},"id":"17965","type":"Grid"},{"attributes":{"line_alpha":0.2,"line_color":"#fc4f30","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"18001","type":"Line"},{"attributes":{"line_color":"#fc4f30","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17926","type":"Line"},{"attributes":{},"id":"17963","type":"BasicTicker"},{"attributes":{},"id":"17968","type":"WheelZoomTool"},{"attributes":{"toolbars":[{"id":"17887"},{"id":"17972"}],"tools":[{"id":"17861"},{"id":"17881"},{"id":"17882"},{"id":"17883"},{"id":"17884"},{"id":"17885"},{"id":"17946"},{"id":"17966"},{"id":"17967"},{"id":"17968"},{"id":"17969"},{"id":"17970"}]},"id":"18032","type":"ProxyToolbar"},{"attributes":{"axis_label":"Date","coordinates":null,"formatter":{"id":"17897"},"group":null,"major_label_policy":{"id":"17898"},"ticker":{"id":"17875"}},"id":"17874","type":"CategoricalAxis"},{"attributes":{"line_color":"#30a2da","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17905","type":"Line"},{"attributes":{},"id":"17966","type":"SaveTool"},{"attributes":{"line_color":"#fc4f30","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"18004","type":"Line"},{"attributes":{"below":[{"id":"17959"}],"center":[{"id":"17961"},{"id":"17965"}],"height":300,"left":[{"id":"17962"}],"margin":null,"min_border_bottom":10,"min_border_left":10,"min_border_right":10,"min_border_top":10,"renderers":[{"id":"17993"},{"id":"18002"}],"sizing_mode":"fixed","title":{"id":"17951"},"toolbar":{"id":"17972"},"toolbar_location":null,"x_range":{"id":"17945"},"x_scale":{"id":"17955"},"y_range":{"id":"17860"},"y_scale":{"id":"17957"}},"id":"17950","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"data_source":{"id":"17923"},"glyph":{"id":"17926"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"17928"},"nonselection_glyph":{"id":"17927"},"selection_glyph":{"id":"17944"},"view":{"id":"17930"}},"id":"17929","type":"GlyphRenderer"},{"attributes":{"args":{"bidirectional":false,"properties":{},"source":{"id":"18083"},"target":{"id":"18082"}},"code":"try { \n    var labels = ['year: &lt;b&gt;2018&lt;/b&gt;', 'year: &lt;b&gt;2019&lt;/b&gt;', 'year: &lt;b&gt;2020&lt;/b&gt;', 'year: &lt;b&gt;2021&lt;/b&gt;', 'year: &lt;b&gt;2022&lt;/b&gt;']\n    target.text = labels[source.value]\n     } catch(err) { console.log(err) }","tags":[[1647891196896,[null,"value"],[null,null]]]},"id":"18110","type":"CustomJS"},{"attributes":{"coordinates":null,"data_source":{"id":"17902"},"glyph":{"id":"17905"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"17907"},"nonselection_glyph":{"id":"17906"},"selection_glyph":{"id":"17922"},"view":{"id":"17909"}},"id":"17908","type":"GlyphRenderer"},{"attributes":{"overlay":{"id":"17971"}},"id":"17969","type":"BoxZoomTool"},{"attributes":{},"id":"17903","type":"Selection"},{"attributes":{},"id":"17970","type":"ResetTool"},{"attributes":{"coordinates":null,"group":null,"text":"Ridership by Membership by Month and Year","text_color":"black","text_font_size":"12pt"},"id":"17866","type":"Title"},{"attributes":{"axis":{"id":"17874"},"coordinates":null,"grid_line_color":null,"group":null,"ticker":null},"id":"17876","type":"Grid"},{"attributes":{"state":{"0":{"content":"{\"events\": [{\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18082\"}, \"new\": \"year: &lt;b&gt;2018&lt;/b&gt;\"}, {\"cols\": null, \"column_source\": {\"id\": \"17902\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Customer\", \"Customer\", \"Customer\"]}}, {\"cols\": null, \"column_source\": {\"id\": \"17923\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Subscriber\", \"Subscriber\", \"Subscriber\"]}}, {\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18035\"}, \"new\": \"&lt;span style=\\\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\\\"&gt;year: 2018&lt;/span&gt;\"}], \"references\": []}","header":"{\"msgid\": \"18245\", \"msgtype\": \"PATCH-DOC\"}","metadata":"{}"},"1":{"content":"{\"events\": [{\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18082\"}, \"new\": \"year: &lt;b&gt;2019&lt;/b&gt;\"}, {\"cols\": null, \"column_source\": {\"id\": \"17902\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"yKjbsAkEb0Cp27AJBIdwQC1oaxefF25A\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"yKjbsAkEb0Cp27AJBIdwQC1oaxefF25A\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Customer\", \"Customer\", \"Customer\"]}}, {\"cols\": null, \"column_source\": {\"id\": \"17923\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"eMe9uSJphkCSJ/t9NNuHQGeA9RBHCIpA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"eMe9uSJphkCSJ/t9NNuHQGeA9RBHCIpA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Subscriber\", \"Subscriber\", \"Subscriber\"]}}, {\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18035\"}, \"new\": \"&lt;span style=\\\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\\\"&gt;year: 2019&lt;/span&gt;\"}], \"references\": []}","header":"{\"msgid\": \"18228\", \"msgtype\": \"PATCH-DOC\"}","metadata":"{}"},"2":{"content":"{\"events\": [{\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18082\"}, \"new\": \"year: &lt;b&gt;2020&lt;/b&gt;\"}, {\"cols\": null, \"column_source\": {\"id\": \"17902\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"MzMzMzNPbUA5juM4jo9uQGELtmALJm9A\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"MzMzMzNPbUA5juM4jo9uQGELtmALJm9A\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Customer\", \"Customer\", \"Customer\"]}}, {\"cols\": null, \"column_source\": {\"id\": \"17923\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"0id90ifHfECJiIiIiJKAQNInfdInIIJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"0id90ifHfECJiIiIiJKAQNInfdInIIJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Subscriber\", \"Subscriber\", \"Subscriber\"]}}, {\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18035\"}, \"new\": \"&lt;span style=\\\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\\\"&gt;year: 2020&lt;/span&gt;\"}], \"references\": []}","header":"{\"msgid\": \"18211\", \"msgtype\": \"PATCH-DOC\"}","metadata":"{}"},"3":{"content":"{\"events\": [{\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18082\"}, \"new\": \"year: &lt;b&gt;2021&lt;/b&gt;\"}, {\"cols\": null, \"column_source\": {\"id\": \"17902\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"oYCOzXeDbkAFdGy+G+5xQPLAVbQzTXJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"oYCOzXeDbkAFdGy+G+5xQPLAVbQzTXJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Customer\", \"Customer\", \"Customer\"]}}, {\"cols\": null, \"column_source\": {\"id\": \"17923\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"TyMs9zRSf0AZRB64iuaBQKOdKb3+ZodA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"TyMs9zRSf0AZRB64iuaBQKOdKb3+ZodA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Subscriber\", \"Subscriber\", \"Subscriber\"]}}, {\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18035\"}, \"new\": \"&lt;span style=\\\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\\\"&gt;year: 2021&lt;/span&gt;\"}], \"references\": []}","header":"{\"msgid\": \"18194\", \"msgtype\": \"PATCH-DOC\"}","metadata":"{}"},"4":{"content":"{\"events\": [{\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18082\"}, \"new\": \"year: &lt;b&gt;2022&lt;/b&gt;\"}, {\"cols\": null, \"column_source\": {\"id\": \"17902\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"jb+bR6jOc0AbfzePUD1wQMB2PR3rbmhA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"jb+bR6jOc0AbfzePUD1wQMB2PR3rbmhA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Customer\", \"Customer\", \"Customer\"]}}, {\"cols\": null, \"column_source\": {\"id\": \"17923\"}, \"kind\": \"ColumnDataChanged\", \"new\": {\"average station membership\": {\"__ndarray__\": \"6X2Bo2bkhEDzCNVn2sKKQFSfaWv8bZJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"average_station_membership\": {\"__ndarray__\": \"6X2Bo2bkhEDzCNVn2sKKQFSfaWv8bZJA\", \"dtype\": \"float64\", \"order\": \"little\", \"shape\": [3]}, \"month\": [\"7\", \"8\", \"9\"], \"usertype\": [\"Subscriber\", \"Subscriber\", \"Subscriber\"]}}, {\"attr\": \"text\", \"hint\": null, \"kind\": \"ModelChanged\", \"model\": {\"id\": \"18035\"}, \"new\": \"&lt;span style=\\\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\\\"&gt;year: 2022&lt;/span&gt;\"}], \"references\": []}","header":"{\"msgid\": \"18177\", \"msgtype\": \"PATCH-DOC\"}","metadata":"{}"}},"values":[0],"widgets":{"18083":0}},"id":"18111","type":"panel.models.state.State"},{"attributes":{"callback":null,"renderers":[{"id":"17908"},{"id":"17929"}],"tags":["hv_created"],"tooltips":[["usertype","@{usertype}"],["month","@{month}"],["average station membership","@{average_station_membership}"]]},"id":"17861","type":"HoverTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"17971","type":"BoxAnnotation"},{"attributes":{"source":{"id":"17902"}},"id":"17909","type":"CDSView"},{"attributes":{"click_policy":"mute","coordinates":null,"group":null,"items":[{"id":"17921"},{"id":"17943"}],"title":"usertype"},"id":"17920","type":"Legend"},{"attributes":{"line_color":"#30a2da","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17922","type":"Line"},{"attributes":{},"id":"17924","type":"Selection"},{"attributes":{},"id":"17870","type":"CategoricalScale"},{"attributes":{"label":{"value":"Customer"},"renderers":[{"id":"17908"}]},"id":"17921","type":"LegendItem"},{"attributes":{},"id":"17983","type":"AllLabels"},{"attributes":{"line_alpha":0.1,"line_color":"#30a2da","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17906","type":"Line"},{"attributes":{"style":{"white-space":"nowrap"},"text":"&lt;span style=\"color:black;font-family:Arial;font-style:bold;font-weight:bold;font-size:12pt\"&gt;year: 2018&lt;/span&gt;","width":450},"id":"18035","type":"Div"},{"attributes":{"code":"\nvar state = null\nfor (var root of cb_obj.document.roots()) {\n  if (root.id == '18111') {\n    state = root;\n    break;\n  }\n}\nif (!state) { return; }\nstate.set_state(cb_obj, cb_obj.value)\n"},"id":"18112","type":"CustomJS"},{"attributes":{"coordinates":null,"data_source":{"id":"17987"},"glyph":{"id":"17990"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"17992"},"nonselection_glyph":{"id":"17991"},"selection_glyph":{"id":"17995"},"view":{"id":"17994"}},"id":"17993","type":"GlyphRenderer"},{"attributes":{"data":{"average station membership":{"__ndarray__":"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhA","dtype":"float64","order":"little","shape":[3]},"average_station_membership":{"__ndarray__":"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhA","dtype":"float64","order":"little","shape":[3]},"month":["7","8","9"],"usertype":["Customer","Customer","Customer"]},"selected":{"id":"17903"},"selection_policy":{"id":"17917"}},"id":"17902","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"17851"},{"id":"17852"},{"id":"18085"}],"margin":[0,0,0,0],"name":"Row25701","tags":["embedded"]},"id":"17850","type":"Row"},{"attributes":{"line_alpha":0.1,"line_color":"#fc4f30","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17927","type":"Line"},{"attributes":{"line_color":"#30a2da","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"17990","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"#30a2da","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17907","type":"Line"},{"attributes":{},"id":"17882","type":"PanTool"},{"attributes":{"data":{"average station membership":{"__ndarray__":"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRAeMe9uSJphkCSJ/t9NNuHQGeA9RBHCIpA0id90ifHfECJiIiIiJKAQNInfdInIIJATyMs9zRSf0AZRB64iuaBQKOdKb3+ZodA6X2Bo2bkhEDzCNVn2sKKQFSfaWv8bZJA","dtype":"float64","order":"little","shape":[15]},"average_station_membership":{"__ndarray__":"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRAeMe9uSJphkCSJ/t9NNuHQGeA9RBHCIpA0id90ifHfECJiIiIiJKAQNInfdInIIJATyMs9zRSf0AZRB64iuaBQKOdKb3+ZodA6X2Bo2bkhEDzCNVn2sKKQFSfaWv8bZJA","dtype":"float64","order":"little","shape":[15]},"date":["2018-07","2018-08","2018-09","2019-07","2019-08","2019-09","2020-07","2020-08","2020-09","2021-07","2021-08","2021-09","2022-07","2022-08","2022-09"],"usertype":["Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber","Subscriber"]},"selected":{"id":"17997"},"selection_policy":{"id":"18027"}},"id":"17996","type":"ColumnDataSource"},{"attributes":{},"id":"17872","type":"LinearScale"},{"attributes":{"line_color":"#30a2da","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"17995","type":"Line"},{"attributes":{"margin":[20,0,0,20],"name":"","style":{"white-space":"nowrap"},"text":"year: &lt;b&gt;2018&lt;/b&gt;","width":250},"id":"18082","type":"Div"},{"attributes":{"axis_label":"Average Station Ridership","coordinates":null,"formatter":{"id":"17900"},"group":null,"major_label_policy":{"id":"17901"},"ticker":{"id":"17878"}},"id":"17877","type":"LinearAxis"},{"attributes":{"axis":{"id":"17877"},"coordinates":null,"dimension":1,"grid_line_color":null,"group":null,"ticker":null},"id":"17880","type":"Grid"},{"attributes":{},"id":"17878","type":"BasicTicker"},{"attributes":{},"id":"17940","type":"UnionRenderers"},{"attributes":{},"id":"17883","type":"WheelZoomTool"},{"attributes":{"line_alpha":0.2,"line_color":"#fc4f30","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17928","type":"Line"},{"attributes":{},"id":"18027","type":"UnionRenderers"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25715","sizing_mode":"stretch_width"},"id":"18084","type":"Spacer"},{"attributes":{"data":{"average station membership":{"__ndarray__":"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhAyKjbsAkEb0Cp27AJBIdwQC1oaxefF25AMzMzMzNPbUA5juM4jo9uQGELtmALJm9AoYCOzXeDbkAFdGy+G+5xQPLAVbQzTXJAjb+bR6jOc0AbfzePUD1wQMB2PR3rbmhA","dtype":"float64","order":"little","shape":[15]},"average_station_membership":{"__ndarray__":"GOgX6BcoakBlm2SbZNtpQPcI9wj3CGhAyKjbsAkEb0Cp27AJBIdwQC1oaxefF25AMzMzMzNPbUA5juM4jo9uQGELtmALJm9AoYCOzXeDbkAFdGy+G+5xQPLAVbQzTXJAjb+bR6jOc0AbfzePUD1wQMB2PR3rbmhA","dtype":"float64","order":"little","shape":[15]},"date":["2018-07","2018-08","2018-09","2019-07","2019-08","2019-09","2020-07","2020-08","2020-09","2021-07","2021-08","2021-09","2022-07","2022-08","2022-09"],"usertype":["Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer","Customer"]},"selected":{"id":"17988"},"selection_policy":{"id":"18025"}},"id":"17987","type":"ColumnDataSource"},{"attributes":{"data":{"average station membership":{"__ndarray__":"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRA","dtype":"float64","order":"little","shape":[3]},"average_station_membership":{"__ndarray__":"k2yTbJM0hEBWqlWqVXqDQAr2CfYJHoRA","dtype":"float64","order":"little","shape":[3]},"month":["7","8","9"],"usertype":["Subscriber","Subscriber","Subscriber"]},"selected":{"id":"17924"},"selection_policy":{"id":"17940"}},"id":"17923","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"18035"},{"id":"18034"}]},"id":"18036","type":"Column"},{"attributes":{},"id":"17881","type":"SaveTool"},{"attributes":{"source":{"id":"17996"}},"id":"18003","type":"CDSView"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25717","sizing_mode":"stretch_width"},"id":"17851","type":"Spacer"},{"attributes":{"line_alpha":0.1,"line_color":"#fc4f30","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"18000","type":"Line"},{"attributes":{"below":[{"id":"17874"}],"center":[{"id":"17876"},{"id":"17880"},{"id":"17920"}],"height":300,"left":[{"id":"17877"}],"margin":null,"min_border_bottom":10,"min_border_left":10,"min_border_right":10,"min_border_top":10,"renderers":[{"id":"17908"},{"id":"17929"}],"sizing_mode":"fixed","title":{"id":"17866"},"toolbar":{"id":"17887"},"toolbar_location":null,"x_range":{"id":"17859"},"x_scale":{"id":"17870"},"y_range":{"id":"17860"},"y_scale":{"id":"17872"}},"id":"17865","subtype":"Figure","type":"Plot"},{"attributes":{"overlay":{"id":"17886"}},"id":"17884","type":"BoxZoomTool"},{"attributes":{"children":[[{"id":"17865"},0,0],[{"id":"17950"},1,0]]},"id":"18031","type":"GridBox"},{"attributes":{},"id":"17885","type":"ResetTool"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25714","sizing_mode":"stretch_width"},"id":"18079","type":"Spacer"},{"attributes":{},"id":"17986","type":"AllLabels"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"17886","type":"BoxAnnotation"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer25722","sizing_mode":"stretch_width"},"id":"18085","type":"Spacer"},{"attributes":{"children":[{"id":"18082"},{"id":"18083"}],"margin":[0,0,0,0],"min_width":290,"name":"Column25711","width":290},"id":"18081","type":"Column"},{"attributes":{"tools":[{"id":"17861"},{"id":"17881"},{"id":"17882"},{"id":"17883"},{"id":"17884"},{"id":"17885"}]},"id":"17887","type":"Toolbar"},{"attributes":{},"id":"17988","type":"Selection"},{"attributes":{},"id":"17985","type":"BasicTickFormatter"},{"attributes":{"children":[{"id":"18079"},{"id":"18080"},{"id":"18084"}],"margin":[0,0,0,0],"name":"Row25716"},"id":"18078","type":"Row"},{"attributes":{},"id":"17917","type":"UnionRenderers"},{"attributes":{},"id":"17982","type":"CategoricalTickFormatter"},{"attributes":{},"id":"18025","type":"UnionRenderers"},{"attributes":{"source":{"id":"17923"}},"id":"17930","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_color":"#30a2da","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"17992","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#30a2da","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"17991","type":"Line"},{"attributes":{"line_color":"#fc4f30","line_width":2,"x":{"field":"date"},"y":{"field":"average station membership"}},"id":"17999","type":"Line"},{"attributes":{"line_color":"#fc4f30","line_width":2,"x":{"field":"month"},"y":{"field":"average station membership"}},"id":"17944","type":"Line"},{"attributes":{"factors":["2018-07","2018-08","2018-09","2019-07","2019-08","2019-09","2020-07","2020-08","2020-09","2021-07","2021-08","2021-09","2022-07","2022-08","2022-09"],"tags":[[["date","date",null]]]},"id":"17945","type":"FactorRange"},{"attributes":{"children":[{"id":"17853"},{"id":"18078"}],"margin":[0,0,0,0],"name":"Column25721"},"id":"17852","type":"Column"},{"attributes":{"label":{"value":"Subscriber"},"renderers":[{"id":"17929"}]},"id":"17943","type":"LegendItem"},{"attributes":{"children":[{"id":"18081"}],"css_classes":["panel-widget-box"],"margin":[5,5,5,5],"name":"WidgetBox25702"},"id":"18080","type":"Column"},{"attributes":{"tools":[{"id":"17946"},{"id":"17966"},{"id":"17967"},{"id":"17968"},{"id":"17969"},{"id":"17970"}]},"id":"17972","type":"Toolbar"},{"attributes":{},"id":"17955","type":"CategoricalScale"},{"attributes":{"source":{"id":"17987"}},"id":"17994","type":"CDSView"}],"root_ids":["17850","18111"]},"title":"Bokeh Application","version":"2.4.3"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                  const docs_json = document.getElementById('18390').textContent;
                  const render_items = [{"docid":"e1531bfd-644b-47ad-8eec-d0e148523aa7","root_ids":["17850","18111"],"roots":{"17850":"e9f1832a-d2c7-438e-8c52-eea7a5b886f1","18111":"6b8b760e-5b10-45d5-83b6-5f776d90c660"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
  </body>
</html>

When we look at the overall trend of average station membership, we indeed saw a dramatic decrease in subsctibers in summer 2020 comparing to summers of the other years due to COVID.  In summer 2021, the number of subscribers resumed to the level in summer 2019 (especially comparing the September data). In 2022, we see a huge jump up in subscribers, exceeding the summer of other years. The increase rate is the fastest between August and September, shown by the steep slope, at the same time the number of customers decreased in a great extent. 
### 1.4 Spatial ridership change across each year and station

<div id="hv-chart-4"></div>

The map above shows the expansion of bikeshare service on census tract basis. Across the years, the maps follow some basic pattern:
    1. Boston downtown and Cambridge always have the highest ridership per station, due to its students and tourists population. 
    2. The more spread out from the center, the less the ridership per station

We see an interesting pattern in 2022, when Orange Line was shutdown and bikeshare service was made free. We see that colors changed very apprently across the month, especially in the south side (where majority of the low income neighborhood are at). Despite the ridership increase near the orange line, the ridership have also increased in other places away from the line. 

### 1.5 Conclusion

By looking at the trends, we definitely see the effect of free bikeshare service in August to September in 2022. We see that there is a huge spike in average station ridership, number of subscribers, and increase in ridership in low income neighborhoods. We see that not only the original orange line commuters and college students living along South west corridor benefited from the free program, even the low-income neighborhoods away from the orange line might also be benefited from it. 
